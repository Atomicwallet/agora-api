syntax = "proto3";

package kin.common.v3;

option go_package = "github.com/kinecosystem/kin-api/genproto/common/v3;common";
option java_package = "org.kin.gen.common.v3";

import "validate/validate.proto";

message StellarAccountId {
    // The public key of accounts always starts with a G, so we
    // ensure that the value starts with a G to prevent the secret
    // key from being used.
    string value = 1 [(validate.rules).string = {
        pattern: "^G[a-zA-Z0-9]*$"
        min_bytes: 56
        max_bytes: 56
    }];
}

message TransactionId {
    // The hex-encoded sha256 hash of a transaction.
    string hash = 1 [(validate.rules).string = {
        min_bytes: 64
        max_bytes: 64
    }];
}

message OperationId {
    // The transaction which the operation was contained in.
    TransactionId transaction_id = 1 [(validate.rules).message.required = true];

    // The offset within the transaction.
    uint32 offset = 2;
}

message BigDecimal {
    string value = 1 [(validate.rules).string = {
        pattern: "^(?:[1-9][0-9]{0,14}|0)(?:\\.[0-9]{0,11}[1-9])?$"
    }];
}